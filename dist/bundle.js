/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/animation.js":
/*!**************************!*\
  !*** ./src/animation.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Animation)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n// æˆ‘æ”¾æ£„æ™æ‰äº†ï¼Œå¯èƒ½æ˜¯webpackçš„è¨­å®šæœ‰å•é¡Œï¼Œæˆ‘å¿…é ˆåœ¨htmlå°å…¥æ‰€éœ€çš„æ¨¡çµ„ç¶²å€æ‰èƒ½å°‡spotlighté¡¯ç¤ºï¼Œæˆ‘ä¸æ‡‚ç‚ºä»€éº¼\n// import * as THREE from 'three';\nvar Animation = /*#__PURE__*/function () {\n  function Animation(canvas) {\n    var _this = this;\n    _classCallCheck(this, Animation);\n    this.requestID;\n    this.scene = new THREE.Scene(); // å»ºç«‹å ´æ™¯\n    this.camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000); // è¨­ç½®é¡é ­\n    // this.renderer = new THREE.WebGLRenderer(); // å»ºç«‹æ¸²æŸ“å™¨\n    this.renderer = new THREE.WebGLRenderer({\n      alpha: true\n    }); // å»ºç«‹æ¸²æŸ“å™¨ï¼Œå•Ÿç”¨é€æ˜èƒŒæ™¯ï¼Œæ²’ç”¨\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    // this.renderer.setClearColor('#000000'); // èƒŒæ™¯è‰²è¨­ç½®ç‚ºé»‘è‰²\n    this.renderer.setClearColor(0x000000, 0); // èƒŒæ™¯è‰²è¨­ç½®ç‚ºé€æ˜\n    this.renderer.shadowMap.enabled = true;\n    this.camera.position.set(0, 0, 20); // ç§»å‹•ç›¸æ©Ÿçš„Zè»¸\n\n    this.ambientLight = new THREE.AmbientLight('#ffffff', 0.4); // å»ºç«‹ç’°å¢ƒå…‰ï¼Œæ•¸å­—è¶Šå°å…‰ç·šè¶Šå¼±\n    this.scene.add(this.ambientLight);\n\n    // è¨­å®šèšå…‰ç‡ˆçš„ä½ç½®å’Œå±¬æ€§\n    this.spotLight = new THREE.SpotLight('#ffffff'); // å»ºç«‹èšå…‰ç‡ˆ\n    this.spotLight.position.set(20, 30, 20); // å°‡èšå…‰ç‡ˆç§»åˆ°æ„›å¿ƒçš„å³ä¸Šè§’\n    this.spotLight.angle = Math.PI / 20; // èª¿æ•´èšå…‰ç‡ˆçš„è§’åº¦ï¼Œä½¿å…¶æ›´èšå…‰ç‡ˆ\n    this.spotLight.penumbra = 1.0; // èª¿æ•´èšå…‰ç‡ˆçš„åŠå½±ï¼Œè®“å…‰ç·šæ›´æŸ”å’Œ\n    this.scene.add(this.spotLight);\n\n    // å¹«åŠ©æŸ¥çœ‹èšå…‰ç‡ˆè·¯ç·š\n    // const spotLightHelper = new THREE.SpotLightHelper(this.spotLight);\n    // this.scene.add(spotLightHelper);\n\n    this.canvas = canvas;\n    this.infoElement = document.createElement('div');\n    this.infoElement.innerText = '>   press SPACE to continue   <';\n    this.infoElement.style.position = 'absolute';\n    this.infoElement.style.top = '50%';\n    this.infoElement.style.left = '50%';\n    this.infoElement.style.transform = 'translate(-50%, -50%)';\n    this.infoElement.style.fontFamily = 'Cubic_11';\n    this.infoElement.style.color = 'white';\n    this.infoElement.style.fontSize = '24px';\n    this.infoElement.style.textShadow = /* White glow */\n    '0 0 7px white', '0 0 10px white', '0 0 21px white', /* Green glow */\n    '0 0 42px red', '0 0 82px red', '0 0 92px red', '0 0 102px red', '0 0 151px red';\n    this.infoElement.style.display = 'block';\n    this.opening = new Audio('sound/opening.mp3');\n    this.opening.loop = false;\n    this.opening.volume = 0.8;\n\n    // åˆå§‹åŒ– keyPressed\n    this.keyPressed = {};\n    document.body.addEventListener('keydown', function (event) {\n      _this.keyPressed[event.key] = true;\n    });\n    document.body.addEventListener('keyup', function (event) {\n      _this.keyPressed[event.key] = false;\n    });\n  }\n  return _createClass(Animation, [{\n    key: \"createHeartAnimation\",\n    value: function createHeartAnimation(onComplete) {\n      var _this2 = this;\n      this.append();\n      this.heartPixels = [[0, 0, 3, 5, 5, 3, 0, 0, 0, 0, 0, 3, 5, 5, 3, 0, 0], [0, 3, 7, 7, 7, 7, 5, 0, 0, 0, 5, 7, 7, 7, 7, 3, 0], [3, 5, 7, 7, 7, 9, 9, 5, 0, 5, 9, 9, 7, 7, 7, 5, 3], [3, 5, 7, 7, 7, 9, 9, 9, 3, 9, 9, 9, 7, 7, 7, 5, 3], [3, 5, 7, 7, 7, 7, 9, 9, 9, 9, 9, 7, 7, 7, 7, 5, 3], [3, 5, 5, 5, 7, 7, 7, 9, 9, 9, 7, 7, 7, 5, 5, 5, 3], [1, 3, 5, 5, 5, 7, 7, 7, 9, 7, 7, 7, 5, 5, 5, 3, 1], [1, 3, 3, 3, 5, 5, 7, 7, 7, 7, 7, 5, 5, 3, 3, 3, 1], [0, 1, 1, 3, 3, 5, 5, 7, 7, 7, 5, 5, 3, 3, 1, 1, 0], [0, 0, 1, 1, 3, 3, 5, 5, 7, 5, 5, 3, 3, 1, 1, 0, 0], [0, 0, 0, 1, 1, 3, 3, 5, 5, 5, 3, 3, 1, 1, 0, 0, 0], [0, 0, 0, 0, 1, 1, 3, 3, 5, 3, 3, 1, 1, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 1, 3, 3, 3, 1, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 1, 3, 1, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]];\n      this.centerX = this.heartPixels[0].length / 2;\n      this.centerY = this.heartPixels.length / 2;\n      this.geometry = new THREE.BoxGeometry(1, 1, 1);\n      this.material = new THREE.MeshPhongMaterial({\n        color: '#FF0000'\n      });\n      // this.material = new THREE.MeshLambertMaterial({ color: '#FF0000' });\n      this.numCube = 0;\n\n      // å»ºç«‹ä¸€å€‹ç¾¤çµ„ä¾†åŒ…å«æ‰€æœ‰çš„ç«‹æ–¹é«”\n      this.heartGroup = new THREE.Group();\n      for (this.y = 0; this.y < this.heartPixels.length; this.y++) {\n        for (this.x = 0; this.x < this.heartPixels[this.y].length; this.x++) {\n          this.centerZ = this.heartPixels[this.y][this.x] / 2;\n          // å¯¦å¿ƒçš„885 -> ç¼ºé»æ±è¥¿362 -> ç©ºå¿ƒçš„472\n          for (this.z = 0; this.z < this.heartPixels[this.y][this.x]; this.z++) {\n            if (this.y === 0 || this.y >= 1 && this.heartPixels[this.y][this.x] > this.heartPixels[this.y - 1][this.x] && (this.z <= (this.heartPixels[this.y][this.x] - this.heartPixels[this.y - 1][this.x]) / 2 || this.z >= (this.heartPixels[this.y][this.x] - 1 - this.heartPixels[this.y][this.x] - this.heartPixels[this.y - 1][this.x]) / 2) || this.x === 0 || this.x === this.heartPixels[this.y].length - 1 || this.z === 0 || this.z === this.heartPixels[this.y][this.x] - 1) {\n              this.cube = new THREE.Mesh(this.geometry, this.material);\n              this.cube.position.set(this.centerX - this.x, this.centerY - this.y, this.centerZ - this.z);\n              this.heartGroup.add(this.cube);\n              this.numCube += 1;\n            }\n          }\n        }\n      }\n      this.scene.add(this.heartGroup); // å°‡ç¾¤çµ„åŠ å…¥å ´æ™¯\n      // console.log(this.numCube);\n      // console.log(this.scene.children);\n\n      var animate = function animate() {\n        _this2.requestID = requestAnimationFrame(animate);\n        _this2.heartGroup.rotation.y += 0.03; // æ›´æ–°ç¾¤çµ„çš„æ—‹è½‰è§’åº¦\n\n        // è¨ˆç®—è¢å¹•ä¸Šçš„å¤§å°\n        var box = new THREE.Box3().setFromObject(_this2.heartGroup);\n        var size = new THREE.Vector3();\n        box.getSize(size);\n        var distance = _this2.camera.position.distanceTo(_this2.heartGroup.position);\n        var vFOV = _this2.camera.fov * Math.PI / 180; // è§’åº¦åˆ°å¼§åº¦çš„è½‰æ›\n        var height = 2 * Math.tan(vFOV / 2) * distance; // visible height\n        var heightInPixels = window.innerHeight;\n        var worldToPixels = heightInPixels / height;\n        var targetSizeInPixels = 50; // ç›®æ¨™å¤§å°ï¼ˆ50åƒç´ ï¼‰\n        var sizeInPixels = size.x * worldToPixels;\n        _this2.renderer.render(_this2.scene, _this2.camera); // æ¸²æŸ“å ´æ™¯èˆ‡é¡é ­ \n\n        if (_this2.keyPressed[' ']) {\n          // this.infoElement.style.display = 'none';\n          _this2.opening.play();\n          _this2.heartGroup.scale.multiplyScalar(0.99); // ç¸®å°æ„›å¿ƒ\n\n          if (sizeInPixels <= targetSizeInPixels) {\n            // console.log(sizeInPixels, targetSizeInPixels);\n            cancelAnimationFrame(_this2.requestID);\n            _this2.remove();\n            onComplete();\n          }\n        }\n      };\n      this.requestID = animate();\n    }\n  }, {\n    key: \"append\",\n    value: function append() {\n      document.body.appendChild(this.renderer.domElement);\n      document.body.appendChild(this.infoElement);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      document.body.removeChild(this.renderer.domElement);\n      document.body.removeChild(this.infoElement);\n    }\n  }]);\n}();\n\n\n//# sourceURL=webpack:///./src/animation.js?");

/***/ }),

/***/ "./src/attack.js":
/*!***********************!*\
  !*** ./src/attack.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Attack)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar Attack = /*#__PURE__*/function () {\n  function Attack(canvas, ctx, mode) {\n    _classCallCheck(this, Attack);\n    this.canvas = canvas;\n    this.ctx = ctx;\n    this.mode = mode;\n    this.radius = 0;\n    this.width = 0;\n    this.height = 0;\n    this.xs_mode2 = [];\n    this.random();\n  }\n  return _createClass(Attack, [{\n    key: \"random\",\n    value: function random() {\n      // console.log(\"random \" + `${this.mode}`);\n      if (this.mode === 'mode1') return this.randomMode1();else if (this.mode === 'mode2') return this.randomMode2();\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      // console.log(\"draw \" + `${this.mode}`);\n      if (this.mode === 'mode1') this.drawMode1();else if (this.mode === 'mode2') this.drawMode2();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (this.mode === 'mode1') return this.updateMode1();else if (this.mode === 'mode2') return this.updateMode2();else return {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n    }\n  }, {\n    key: \"checkMode\",\n    value: function checkMode(mode) {\n      // console.log(\"checkMode \" + `${this.mode}`);\n      this.tmp = this.mode;\n      this.mode = mode;\n      if (this.tmp !== this.mode) this.random();\n    }\n  }, {\n    key: \"randomMode1\",\n    value: function randomMode1() {\n      // console.log(\"randomMode1\");\n      function isInsideSquare(canvas, x, y, radius) {\n        var squareLeft = (canvas.width - 300) / 2;\n        var squareRight = squareLeft + 300;\n        var squareTop = (canvas.height - 300) / 2;\n        var squareBottom = squareTop + 300;\n        return x - radius > squareLeft && x + radius < squareRight && y - radius > squareTop && y + radius < squareBottom;\n      }\n\n      // éš¨æ©Ÿç”Ÿæˆä½ç½®\n      do {\n        this.x = Math.random() * this.canvas.width;\n        this.y = Math.random() * this.canvas.height;\n        this.radius = Math.random() * 15 + 5;\n      } while (isInsideSquare(this.canvas, this.x, this.y, this.radius));\n\n      // è¨ˆç®—æ–¹å‘å‘é‡ï¼Œæœå‘æ–¹æ¡†çš„ä¸­å¿ƒç§»å‹•\n      this.dx = this.canvas.width / 2 - this.x;\n      this.dy = this.canvas.height / 2 - this.y;\n      this.distanceToCenter = Math.sqrt(this.dx * this.dx + this.dy * this.dy);\n      this.angle = Math.atan2(this.dy, this.dx);\n      this.speedMagnitude = Math.random() * 7 + 1; // é€Ÿåº¦å¤§å°ç‚º 1 åˆ° 8\n\n      // å¦‚æœåœ“å¿ƒåˆ°æ–¹æ¡†ä¸­å¿ƒçš„è·é›¢å°æ–¼ä¸€å®šå€¼ï¼Œå‰‡åŠ ä¸Šä¸€å€‹å€ç‡ä»¥ç¢ºä¿å®ƒé é›¢æ–¹æ¡†\n      if (this.distanceToCenter < 150) this.speedMagnitude *= 1.5;\n      this.speed = {\n        x: Math.cos(this.angle) * this.speedMagnitude,\n        y: Math.sin(this.angle) * this.speedMagnitude\n      };\n    }\n  }, {\n    key: \"drawMode1\",\n    value: function drawMode1() {\n      this.ctx.beginPath();\n      this.ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);\n      this.ctx.fillStyle = 'white';\n      this.ctx.fill();\n    }\n  }, {\n    key: \"updateMode1\",\n    value: function updateMode1() {\n      // if (this.radius === 0) this.random();\n      // ç§»å‹•æ”»æ“Šç‰©ä»¶\n      this.x += this.speed.x;\n      this.y += this.speed.y;\n\n      // æª¢æŸ¥æ˜¯å¦è¶…å‡ºç•«é¢ç¯„åœï¼Œè‹¥æ˜¯å‰‡é‡æ–°è¨­å®šä½ç½®\n      if (this.x - this.radius > this.canvas.width || this.x + this.radius < 0 || this.y - this.radius > this.canvas.height || this.y + this.radius < 0) {\n        this.random();\n      }\n      return {\n        x: this.x,\n        y: this.y,\n        radius: this.radius\n      };\n    }\n  }, {\n    key: \"randomMode2\",\n    value: function randomMode2() {\n      var bottomLife = (this.canvas.height + 300) / 2 - 50;\n      var topLife = (this.canvas.height - 300) / 2 + 50;\n      this.width = 50;\n      this.fx = Math.random() * (this.canvas.width - 600) / 2;\n      // é‚„è¦èª¿æ•´ï¼Œè®“xä¸æœƒæ“ åœ¨ä¸€èµ·ï¼Œå¾—çµ¦ç©å®¶æ´»è‘—çš„å¯èƒ½\n      this.x = Math.random() * (this.canvas.width - 600) / 2 + (this.canvas.width + 600) / 2;\n      this.height = Math.random() * 50 + 200;\n      do {\n        this.y = Math.random() * this.canvas.height;\n        // console.log(\"å¤§æ–¼\", topLife, \"æˆ– å°æ–¼\", bottomLife);\n        // console.log(\"random : \", this.y, this.y + this.height);\n      } while (this.y > (this.canvas.height + 300) / 2 || this.y + this.height < (this.canvas.height - 300) / 2 || !(topLife > this.y || bottomLife < this.y + this.height)); // é‡è¤‡çš„æ¢ä»¶\n    }\n  }, {\n    key: \"drawMode2\",\n    value: function drawMode2() {\n      // console.log(\"drawMode2\");\n      this.ctx.beginPath();\n      this.ctx.fillStyle = 'white';\n      this.ctx.fillRect(this.x, this.y, this.width, this.height);\n    }\n  }, {\n    key: \"updateMode2\",\n    value: function updateMode2() {\n      // console.log(\"updateMode2\");\n      this.speed = 2;\n      this.x -= this.speed;\n\n      // æª¢æŸ¥æ˜¯å¦è¶…å‡ºç•«é¢ç¯„åœï¼Œè‹¥æ˜¯å‰‡é‡æ–°è¨­å®šä½ç½®\n      if (this.x + this.width < this.fx) {\n        this.random();\n      }\n      return {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height\n      };\n    }\n  }]);\n}();\n\n\n//# sourceURL=webpack:///./src/attack.js?");

/***/ }),

/***/ "./src/heart.js":
/*!**********************!*\
  !*** ./src/heart.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Heart)\n/* harmony export */ });\n/* harmony import */ var _square_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./square.js */ \"./src/square.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\nvar Heart = /*#__PURE__*/function () {\n  function Heart(canvas, ctx, mode, img1, img2, img3) {\n    var _this = this;\n    _classCallCheck(this, Heart);\n    this.canvas = canvas;\n    this.ctx = ctx;\n    this.mode = mode;\n    this.x = (this.canvas.width - 50) / 2;\n    this.y = (this.canvas.height - 50) / 2;\n    this.speed = 5;\n    this.width = 50;\n    this.height = 50;\n    this.img1 = img1;\n    this.img2 = img2;\n    this.img3 = img3;\n    this.life = 3;\n    this.s = new _square_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](canvas, ctx, mode);\n\n    // åˆå§‹åŒ– keyPressed\n    this.keyPressed = {};\n    document.body.addEventListener('keydown', function (event) {\n      _this.keyPressed[event.key] = true;\n    });\n    document.body.addEventListener('keyup', function (event) {\n      _this.keyPressed[event.key] = false;\n    });\n  }\n  return _createClass(Heart, [{\n    key: \"update\",\n    value: function update() {\n      var squareLeft = (this.canvas.width - this.s.rectWidth) / 2;\n      var squareRight = squareLeft + this.s.rectWidth;\n      var squareTop = (this.canvas.height - this.s.rectHeight) / 2;\n      var squareBottom = squareTop + this.s.rectHeight;\n      if ((this.keyPressed['w'] || this.keyPressed['ArrowUp']) && this.y > squareTop) this.y -= this.speed;else if ((this.keyPressed['s'] || this.keyPressed['ArrowDown']) && this.y < squareBottom - this.height) this.y += this.speed;\n      if ((this.keyPressed['a'] || this.keyPressed['ArrowLeft']) && this.x > squareLeft) this.x -= this.speed;else if ((this.keyPressed['d'] || this.keyPressed['ArrowRight']) && this.x < squareRight - this.width) this.x += this.speed;\n      return {\n        x: this.x + this.width / 2,\n        y: this.y + this.height / 2,\n        radius: this.width / 2\n      };\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      if (this.life == 2) this.ctx.drawImage(this.img2, this.x, this.y, this.width, this.height);else if (this.life == 1) this.ctx.drawImage(this.img3, this.x, this.y, this.width, this.height);else this.ctx.drawImage(this.img1, this.x, this.y, this.width, this.height);\n    }\n  }, {\n    key: \"checkMode\",\n    value: function checkMode(mode) {\n      this.tmp = this.mode;\n      this.mode = mode;\n      if (this.tmp !== this.mode) {\n        this.x = (this.canvas.width - 50) / 2;\n        this.y = (this.canvas.height - 50) / 2;\n      }\n      this.s.checkMode(mode, false);\n    }\n  }]);\n}();\n\n\n//# sourceURL=webpack:///./src/heart.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modeSwitch_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modeSwitch.js */ \"./src/modeSwitch.js\");\n/* harmony import */ var _heart_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./heart.js */ \"./src/heart.js\");\n/* harmony import */ var _square_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./square.js */ \"./src/square.js\");\n/* harmony import */ var _attack_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./attack.js */ \"./src/attack.js\");\n/* harmony import */ var _animation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./animation.js */ \"./src/animation.js\");\n/* \r\nå¿…é ˆæ”¹é€²:\r\n1.é•·æ¢å½¢æ”»æ“Šç›®å‰æ²’æœ‰ç¢°æ’å°±ä¸æœƒé‡æ–°ç”Ÿæˆï¼Œä¸”ç”Ÿæˆä½ç½®å¸Œæœ›æ˜¯é€£çºŒä¸æ–·ä½†åˆèƒ½èº²éå»çš„ï¼Œæœ€å¥½æ˜¯å¯ä»¥è¶Šä¾†è¶Šå¿«\r\n  ç›®å‰æœƒé‡æ–°ç”Ÿæˆäº†ï¼Œä½†è¨­å®šé‚„æœ‰äº›å•é¡Œï¼Œä¹Ÿé‚„ä¸æœƒè®Šå¿«\r\n2.å°è±¡ä¸­åœ¨æ”»æ“Šæ’åˆ°å°å¿ƒå¿ƒçš„æ™‚å€™æœƒæ¸›é€Ÿå¾ˆå¤šï¼Œæœ‰é»æ€ª\r\n  ã„Ÿï¼Œå¥½åƒæ˜¯æ²’æœ‰äº†ï¼Œä¸çŸ¥é“ç‚ºä»€éº¼\r\n3.æ²’æœ‰ä»»ä½•è´çš„æ–¹å¼ï¼Œå¯ä»¥çœ‹è¦ç”¨è¨ˆæ™‚é‚„æ˜¯ä»€éº¼ç•¶ä½œè¨ˆåˆ†æ–¹å¼ğŸ¤”ï¼›ä¹Ÿä¸çŸ¥é“æœ€å¾Œè¦æœ‰æ€æ¨£çš„ç•«é¢\r\n  ç”¨è¨ˆæ™‚ä½œç‚ºçµæŸç•«é¢ï¼Œå¯èƒ½ç®—æ˜¯è´äº†(?\r\n4.å°å¿ƒå¿ƒç›®å‰ç”¨scoreä¾†è¨ˆç®—è¢«æ’äº†å¹¾æ¬¡ï¼Œä½†é€™æ¨£æ„Ÿè¦ºä¸å¤ªç›´è¦ºã€æœƒä»¥ç‚ºæ˜¯å¾—åˆ†è€Œä¸æ˜¯æ‰£è¡€ï¼›è€Œä¸”å°å¿ƒå¿ƒçš„è®ŠåŒ–åªæœ‰3æ®µï¼Œä½†ç¾åœ¨æœ‰5æ¢å‘½\r\n  ä¸‰æ¢å‘½éæ¸›ä¸”æ”¹è®Šæ•¸åç‚ºlife\r\n5.initè¦å†åŠ ä¸ŠéŠç©è¦å‰‡èªªæ˜ï¼Œå¯èƒ½æ”¾åœ¨å°å¿ƒå¿ƒçš„ä¸Šæ–¹èƒŒæ™¯(?)\r\n  ä¸Šä¸‹åŠ äº†ä¸‰æ¢ï¼Œä¸»è¦æ˜¯éŠç©æ–¹å¼ï¼Œå¯èƒ½å†çœ‹çœ‹æœ‰æ²’æœ‰åˆ¥çš„è¦åŠ çš„ï¼›éŠæˆ²éç¨‹ä¹ŸåŠ ä¸Šä¸èƒ½ç¢°ç™½è‰²çš„äº†\r\n6.overçš„åŸå› é‚„æ²’å¯«ä¸Šå»ï¼Œå¯èƒ½å¯ä»¥æŠŠå¯«ä¸Šå»çš„ç”Ÿå‘½æ•¸å»æ‰(æœ‰é»é†œ)ï¼Œè€Œä¸”è©²é é¢å¯ä»¥å†åŠ ä¸€é»æ–‡å­—æ¯”å¦‚\"You lose....\"ä¹‹é¡çš„\r\n  æœ‰äº†\r\n7.ç¾åœ¨é‡æ–°é–‹å§‹çš„æ™‚å€™ï¼Œç¬¬äºŒå±€æˆ–ç¬¬ä¸‰å±€å¾ˆå¤§æ©Ÿç‡é‚£é¡†åˆ‡æ›modeçš„çƒçƒæœƒçªç„¶ä¸è¦‹ï¼Œç„¶å¾Œå°±æ²’äº†\r\n  æˆ‘çš„é•·æ–¹å½¢æ”»æ“ŠåŠ ä¸Šè‡ªå‹•ç”Ÿæˆçš„åŠŸèƒ½äº†ï¼Œä½†å¦‚æœåœ¨é•·æ–¹å½¢æ¨¡å¼æ­»äº¡ï¼Œåˆ‡æ›æ¨¡å¼æ”»æ“Šé‚„æ˜¯ç„¡æ³•ç”Ÿæˆï¼Œæˆ‘ä¸çŸ¥é“ç‚ºä»€éº¼\r\n  æˆ‘çŸ¥é“äº†ï¼Œå› ç‚ºæˆ‘åˆ‡æ›æ¨¡å¼çš„é‚£å€‹æ±è¥¿ä¸åƒå…¶ä»–æ±æ±ä¸€æ¨£æœƒç¢ºèªæ¨¡å¼ã€æ¨¡å¼ä¸åŒå°±é‡æ–°ç”Ÿæˆï¼Œæ‰€ä»¥æˆ‘è®“å®ƒçš„åŠå¾‘æ­¸é›¶ï¼Œä¸€æ—¦åŠå¾‘ç‚ºé›¶å‰‡é‡æ–°ç”Ÿæˆ\r\n\r\næœŸæœ›æ”¹é€²:\r\n1.è¦åŠ å…¥é–‹å ´å‹•ç•«ï¼Œé è¨ˆç”¨three.jsè®“ä¸€é¡†3Dæ„›å¿ƒæ”¾å¤§æ—‹è½‰ä¸€åœˆå†æ—‹è½‰è‘—ç¸®å°å›å»\r\n  æˆ‘åŠ äº†ï¼Œä½†æœ‰é»æ€ªï¼Œç›®å‰ç„¡æ³•å’ŒåŸæœ¬çš„canvasæ¥åœ¨ä¸€èµ·\r\n2.è¦åŠ å…¥å¤±æ•—å‹•ç•«ï¼Œé è¨ˆç”¨three.jsè®“æˆ‘å€‘çš„å°å¿ƒå¿ƒæ”¾å¤§è£‚é–‹(ç„¶å¾Œæˆ‘å°±ä¸çŸ¥é“äº†)\r\n3.è¦åŠ å…¥åˆ‡æ›æ¨¡å¼å‹•ç•«ï¼Œè®“æ¡†æ¡†çš„è®ŠåŒ–æ˜¯é€£çºŒçš„ï¼Œç­‰æ¡†æ¡†è®ŠåŒ–å®Œæ‰æœƒé–‹å§‹æ”»æ“Š\r\n  å§‘ä¸”ç®—æ˜¯å¯ä»¥ï¼Œä½†åªæœ‰å…©å€‹æ¨¡å¼åˆ‡æ›é–“èƒ½æˆåŠŸï¼Œè€Œä¸”è®ŠåŒ–çµæŸæœƒæœ‰å¥‡å¦™çš„åœé “ï¼Œæˆ‘ä¸çŸ¥é“ç‚ºä»€éº¼\r\n4.å¸Œæœ›å¯ä»¥åŠ å…¥è—è‰²æ”»æ“Š(åªè¦ä¸å‹•å°±å¯ä»¥ä¸æœƒæ‰£è¡€)\r\n5.MusicæŒ‰éµå¯ä»¥å†é€—è¶£ä¸€é»\r\n6.æ”»æ“Šæ–¹å¼å†é‚„åŸ(åŸä½œ)ä¸€é» \r\n*/\n\n// å„²å­˜è®Šæ›´æ–¹å¼æ˜¯åœ¨\"D:\\tool\\workspace\\HTML\\WWW programing\\Project\"è¼¸å…¥\"npx webpack\"\n// ç”¨ Go Server åŸ·è¡Œæœƒæ›´æ–¹ä¾¿ï¼Œåªè¦æœ‰å„²å­˜éƒ½æœƒè‡ªå‹•è®Šæ›´ç•«é¢\n\n\n\n\n\nvar canvas = document.getElementById('game');\nvar ctx = canvas.getContext('2d');\ncanvas.height = window.innerHeight;\ncanvas.width = window.innerWidth;\nvar img1 = new Image();\nimg1.src = 'images/LittleHeart1.png';\nvar img2 = new Image();\nimg2.src = 'images/LittleHeart2.png';\nvar img3 = new Image();\nimg3.src = 'images/LittleHeart3.png';\nvar gameMusic = new Audio('sound/bg.mp3'); // å‰µå»ºéŸ³æ¨‚å…ƒç´ \ngameMusic.loop = true; // è¨­å®šéŸ³æ¨‚å¾ªç’°æ’­æ”¾\ngameMusic.volume = 0.5;\nvar collidedSound = new Audio('sound/collides.mp3');\ncollidedSound.loop = false;\nvar collidedSound2 = new Audio('sound/collides2.mp3');\ncollidedSound2.loop = false;\nvar collided = false;\nvar attacks = [];\nvar startTime = null;\nvar drawTimer, recorder;\nvar state = false;\nvar init = true;\nvar over = false;\n\n//ç”Ÿæˆå„ç¨®ç‰©ä»¶\nvar requestId;\nvar modeSwitch = new _modeSwitch_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](canvas, ctx);\nvar heart = new _heart_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](canvas, ctx, modeSwitch.mode, img1, img2, img3);\nvar square = new _square_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](canvas, ctx, modeSwitch.mode);\nfor (var i = 0; i < 4; i++) {\n  attacks.push(new _attack_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](canvas, ctx, modeSwitch.mode)); // å„ç¨®éœ€è¦æ”¹ï¼ŒMode2å•é¡Œå¾ˆå¤§:ç„¡æ³•å†ç”Ÿï¼Œå„ç¨®é‡ç”Ÿæ”»æ“Šçš„æ–¹å¼éœ€è¦æ”¹\n}\nvar animation = new _animation_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](canvas);\n\n// å„ç¨®æŒ‰éˆ•å€‘\nvar start = function start() {\n  var rectWidth = 180;\n  var rectHeight = 90;\n  var x = (canvas.width - rectWidth) / 2;\n  var y = (canvas.height - rectHeight) / 7 * 6;\n  return {\n    x: x,\n    y: y,\n    width: rectWidth,\n    height: rectHeight\n  };\n};\nvar music = function music() {\n  var rectWidth = 120;\n  var rectHeight = 70;\n  var x = (canvas.width - rectWidth) / 11;\n  var y = (canvas.height - rectHeight) / 7;\n  return {\n    x: x,\n    y: y,\n    width: rectWidth,\n    height: rectHeight\n  };\n};\nvar restart = function restart() {\n  var rectWidth = 120;\n  var rectHeight = 60;\n  var x = (canvas.width - rectWidth) / 9 * 2;\n  var y = (canvas.height - rectHeight) / 2;\n  return {\n    x: x,\n    y: y,\n    width: rectWidth,\n    height: rectHeight\n  };\n};\nvar home = function home() {\n  var rectWidth = 120;\n  var rectHeight = 60;\n  var x = (canvas.width - rectWidth) / 9 * 7;\n  var y = (canvas.height - rectHeight) / 2;\n  return {\n    x: x,\n    y: y,\n    width: rectWidth,\n    height: rectHeight\n  };\n};\n\n// éŠæˆ²å‰çš„å°å‹•ç•«\nanimation.createHeartAnimation(onHeartAnimationComplete); // å‘¼å«å»ºç«‹å¿ƒå½¢å‹•ç•«çš„å‡½æ•¸\nfunction onHeartAnimationComplete() {\n  // console.log('createHeartAnimation is Completed.');\n  requestId = requestAnimationFrame(gameLoop); //  è¿´åœˆé–‹å§‹çš„å…¥å£\n}\n\n// éŠæˆ²è¿´åœˆ\nfunction gameLoop() {\n  clearCanvas(canvas);\n  if (init) beforeStart();\n  if (over) isOver();\n  if (modeSwitch.mode !== 'mode0') {\n    if (heart.life === 0) {\n      over = true;\n    }\n    square.checkMode(modeSwitch.mode, true);\n    heart.checkMode(modeSwitch.mode);\n    attacks.forEach(function (attack, index) {\n      attack.checkMode(modeSwitch.mode);\n    });\n    // checkAllAttacks(attacks, modeSwitch.mode); // è©¦åœ–è—‰ç”±ä»–å€‘åˆ†é–‹æª¢æŸ¥ç‹€æ…‹ä¾†è®“å®ƒå€‘å¯ä»¥åœ¨ä¸åŒæ™‚é–“ç”Ÿæˆï¼Œè®“å®ƒå€‘åˆ†æ•£ï¼Œä½†JSæ˜¯éåŒæ­¥ï¼Œæ²’è¾¦æ³•ï¼Œç®—äº†\n\n    if (square.animationStartTime === null) {\n      // console.log(collided);\n      attacks.forEach(function (attack, index) {\n        if (!collided && collide(modeSwitch.mode, attack.update(), heart.update())) {\n          heart.life--;\n          attacks.splice(index, 1);\n          attack.xs_mode2 = []; // åˆ é™¤ç›¸åŒç´¢å¼•ä½ç½®çš„ x åæ ‡\n          attacks.push(new _attack_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](canvas, ctx, modeSwitch.mode)); // çœ‹èƒ½ä¸èƒ½æ”¹ä¸€ä¸‹ï¼Œæ›æˆé‡è¤‡åˆ©ç”¨çš„æ–¹å¼ç”Ÿæˆï¼Œæ¯”å¦‚æ’åˆ°æˆ–æ˜¯è¶…å‡ºç•Œç·šä¹‹å¾Œé‡æ–°randomå‡ºåˆå§‹ä½ç½®\n          collided = true;\n          collidedSound.play();\n        }\n      });\n      if (!collided && collide(modeSwitch.mode, modeSwitch.update(), heart.update())) {\n        modeSwitch[\"switch\"]();\n        collided = true;\n        collidedSound2.play();\n      }\n      if (collided) collided = false; // é‡ç½®ç¢°æ’ç‹€æ…‹\n    }\n    square.draw();\n    heart.draw();\n    modeSwitch.draw();\n    attacks.forEach(function (attack, index) {\n      attack.draw();\n    });\n    drawLife();\n    recorder = drawTimer();\n  }\n  requestId = requestAnimationFrame(gameLoop);\n}\nfunction beforeStart() {\n  var s = start();\n  var m = music();\n  if (collide(modeSwitch.mode, s, heart.update())) {\n    modeSwitch.mode = 'mode1';\n    modeSwitch.radius = 0;\n    init = false;\n    startTime = Date.now();\n    drawTimer = timer(startTime);\n  }\n  if (!collided && collide(modeSwitch.mode, m, heart.update())) {\n    collided = true;\n    if (!state) {\n      state = true;\n      gameMusic.play();\n    } else {\n      state = false;\n      gameMusic.pause();\n    }\n  } else if (collided && !collide(modeSwitch.mode, m, heart.update())) collided = false;\n  ctx.fillStyle = \"white\";\n  ctx.font = \"30px Cubic_11\";\n  ctx.fillText(\"Press â†‘â†“â†â†’ or WASD to Move\", canvas.width / 2, canvas.height / 8 * 2);\n  ctx.fillText(\"Touch the Frame to Choose the Bottom\", canvas.width / 2, canvas.height / 8 * 3);\n  ctx.fillText(\"You have THREE lives....\", canvas.width / 2, canvas.height / 8 * 5);\n  drawButton(s, 'Start', true);\n  drawButton(m, 'Music', state);\n  heart.draw();\n}\nfunction drawButton(button, text, state) {\n  ctx.beginPath();\n  ctx.strokeStyle = 'white';\n  ctx.lineWidth = 5;\n  ctx.strokeRect(button.x, button.y, button.width, button.height);\n\n  // è¨­ç½®å­—é«”å¤§å°å’Œæ¨£å¼\n  ctx.font = '30px Cubic_11';\n  ctx.fillStyle = 'white';\n  ctx.textAlign = 'center';\n  ctx.textBaseline = 'middle';\n  ctx.fillText(text, button.x + button.width / 2, button.y + button.height / 2);\n  if (!state) {\n    // åœ¨æ–¹æ¡†ä¸ŠåŠ ä¸Šå·¦ä¸Šæ–œåˆ°å³ä¸‹çš„ç´…è‰²ç›´ç·š\n    ctx.beginPath();\n    ctx.strokeStyle = 'red'; // è¨­ç½®ç·šæ¢é¡è‰²ç‚ºç´…è‰²\n    ctx.lineWidth = 5; // è¨­ç½®ç·šæ¢å¯¬åº¦\n    ctx.moveTo(button.x - 10, button.y - 10); // å°‡è·¯å¾‘ç§»å‹•åˆ°æ–¹æ¡†çš„å·¦ä¸Šè§’\n    ctx.lineTo(button.x + button.width + 10, button.y + button.height + 10); // ç¹ªè£½ç›´ç·šåˆ°æ–¹æ¡†çš„å³ä¸‹è§’\n    ctx.stroke(); // ç¹ªè£½ç·šæ¢\n  }\n}\nfunction isOver() {\n  // è¼¸äº†çš„çµæœç•«é¢\n  var r = restart();\n  var h = home();\n  heart.life = 3;\n  modeSwitch.mode = 'mode0';\n  modeSwitch.radius = 0;\n  square.checkMode(modeSwitch.mode, true);\n  heart.checkMode(modeSwitch.mode);\n  attacks.forEach(function (attack, index) {\n    attack.checkMode(modeSwitch.mode);\n  });\n  square.animationStartTime = null;\n  // console.log(\"set null\");\n  // ä¸Šé¢é€™æ±æ±å¥½åƒæ²’ç”¨\n\n  // è¦è£œä¸Šå°å¿ƒå¿ƒè£‚æˆå…©åŠçš„å‹•ç•«\n\n  ctx.font = '60px Cubic_11';\n  ctx.fillStyle = 'white';\n  ctx.fillText(recorder, canvas.width / 2, canvas.height / 9 * 3);\n  ctx.font = '60px Cubic_11';\n  ctx.fillStyle = 'white';\n  ctx.fillText(\"You lose....\", canvas.width / 2, canvas.height / 9 * 6);\n  if (collide(modeSwitch.mode, r, heart.update())) {\n    over = false;\n    modeSwitch.mode = 'mode1';\n    startTime = Date.now();\n    drawTimer = timer(startTime);\n  } else if (collide(modeSwitch.mode, h, heart.update())) {\n    over = false;\n    init = true;\n  }\n  drawButton(r, 'Restart', true);\n  drawButton(h, 'Home', true);\n  heart.draw();\n}\nfunction clearCanvas(canvas) {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n}\n\n// attackç¢°æ’heartï¼Œå¾Œè€…ä¸€å®šæ˜¯ç”¨åœ“å½¢åšåˆ¤å®š\nfunction collide(mode, itemA, itemB) {\n  // console.log(\"mode:\", mode);\n  // console.log(\"Item A:\", itemA);\n  // console.log(\"Item B:\", itemB);\n  var dx, dy;\n  if (mode === 'mode1') {\n    dx = itemA.x - itemB.x;\n    dy = itemA.y - itemB.y;\n    var distance = Math.sqrt(dx * dx + dy * dy);\n    return distance < itemA.radius + itemB.radius;\n  } else if (mode === 'mode2' || mode === 'mode0') {\n    // æ‰¾å‡ºæœ€æ¥è¿‘çš„é»\n    var closestX = clamp(itemB.x, itemA.x, itemA.x + itemA.width);\n    var closestY = clamp(itemB.y, itemA.y, itemA.y + itemA.height);\n\n    // è¨ˆç®—åœ“å¿ƒå’Œæœ€æ¥è¿‘é»ä¹‹é–“çš„è·é›¢\n    dx = itemB.x - closestX;\n    dy = itemB.y - closestY;\n\n    // å¦‚æœè·é›¢å°æ–¼åœ“çš„åŠå¾‘ï¼Œå‰‡ç¢°æ’\n    return dx * dx + dy * dy <= itemB.radius * itemB.radius;\n  }\n\n  // è¼”åŠ©å‡½æ•¸ï¼Œé™åˆ¶æ•¸å€¼åœ¨ç¯„åœå…§\n  function clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n  }\n}\nfunction drawLife() {\n  ctx.fillStyle = \"white\";\n  ctx.font = \"50px Cubic_11\";\n  ctx.fillText(recorder, canvas.width / 2, canvas.height / 9);\n  ctx.fillStyle = \"white\";\n  ctx.font = \"50px Cubic_11\";\n  ctx.fillText(\"life: \".concat(heart.life), canvas.width / 10, canvas.height / 9);\n}\n\n// å®šç¾©ä¸€å€‹è¨ˆæ™‚å™¨å‡½å¼ï¼Œé¡¯ç¤ºå¾è¨ˆæ™‚é–‹å§‹åˆ°ç¾åœ¨çš„æ™‚é–“ï¼ˆåŒ…å«æ¯«ç§’ï¼‰\nfunction timer(startTime) {\n  function padZero(num, length) {\n    var str = num.toString();\n    return str.padStart(length, '0');\n  }\n  function formatTime(minutes, seconds, milliseconds) {\n    return padZero(minutes, 2) + ':' + padZero(seconds, 2) + '.' + padZero(milliseconds, 3);\n  }\n  function getTimeElapsed() {\n    var currentTime = Date.now();\n    var elapsed = currentTime - startTime;\n    var milliseconds = Math.floor(elapsed % 1000);\n    var seconds = Math.floor(elapsed / 1000) % 60;\n    var minutes = Math.floor(elapsed / (1000 * 60));\n    return {\n      minutes: minutes,\n      seconds: seconds,\n      milliseconds: milliseconds\n    };\n  }\n  function update() {\n    var _getTimeElapsed = getTimeElapsed(),\n      minutes = _getTimeElapsed.minutes,\n      seconds = _getTimeElapsed.seconds,\n      milliseconds = _getTimeElapsed.milliseconds;\n    var formattedTime = formatTime(minutes, seconds, milliseconds);\n    return formattedTime;\n  }\n\n  // è¿”å›æ›´æ–°å‡½å¼ï¼Œè®“å¤–éƒ¨å¯ä»¥ä½¿ç”¨å®ƒä¾†æ›´æ–°é¡¯ç¤º\n  return update;\n}\n\n// function sleep(ms) {\n//     return new Promise(resolve => setTimeout(resolve, ms));\n// }\n// const checkAllAttacks = async (attacks, mode) => {\n//     for (let index = 0; index < attacks.length; index++) {\n//         let attack = attacks[index];\n//         attack.checkMode(mode);\n//         await sleep(300); // æ¯æ¬¡è¿´åœˆä¹‹é–“ç­‰å¾…300æ¯«ç§’\n//     }\n// }\n\n// å•Ÿç”¨ HMR\nif (false) {}\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/modeSwitch.js":
/*!***************************!*\
  !*** ./src/modeSwitch.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ModeSwitch)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar ModeSwitch = /*#__PURE__*/function () {\n  function ModeSwitch(canvas, ctx) {\n    _classCallCheck(this, ModeSwitch);\n    // console.log(\"Modeset\");\n    this.canvas = canvas;\n    this.ctx = ctx;\n    this.mode = 'mode0';\n    this.x = 0;\n    this.y = 0;\n    this.radius = 0;\n    // this.random();\n  }\n  return _createClass(ModeSwitch, [{\n    key: \"switch\",\n    value: function _switch() {\n      if (this.mode === 'mode1') this.mode = 'mode2';else if (this.mode === 'mode2') this.mode = 'mode1';\n      this.random();\n      this.draw();\n    }\n  }, {\n    key: \"random\",\n    value: function random() {\n      // console.log(\"random \" + `${this.mode}`);\n      if (this.mode === 'mode1') this.randomMode1();else if (this.mode === 'mode2') this.randomMode2();\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      // console.log(\"draw \" + `${this.mode}`);\n      if (this.mode === 'mode1') this.drawMode1();else if (this.mode === 'mode2') this.drawMode2();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (this.mode === 'mode1') return this.updateMode1();else if (this.mode === 'mode2') return this.updateMode2();else return {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n    }\n  }, {\n    key: \"randomMode1\",\n    value: function randomMode1() {\n      // console.log(\"randomMode1\");\n      function isInsideSquare(canvas, x, y, radius) {\n        var squareLeft = (canvas.width - 300) / 2;\n        var squareRight = squareLeft + 300;\n        var squareTop = (canvas.height - 300) / 2;\n        var squareBottom = squareTop + 300;\n        return x - radius > squareLeft && x + radius < squareRight && y - radius > squareTop && y + radius < squareBottom;\n      }\n\n      // éš¨æ©Ÿç”Ÿæˆä½ç½®\n      do {\n        this.x = Math.random() * this.canvas.width;\n        this.y = Math.random() * this.canvas.height;\n        do {\n          this.radius = Math.random() * 200;\n        } while (this.radius < 5 || this.radius > 20);\n      } while (isInsideSquare(this.canvas, this.x, this.y, this.radius));\n\n      // è¨ˆç®—æ–¹å‘å‘é‡ï¼Œæœå‘æ–¹æ¡†çš„ä¸­å¿ƒç§»å‹•\n      this.dx = this.canvas.width / 2 - this.x;\n      this.dy = this.canvas.height / 2 - this.y;\n      this.distanceToCenter = Math.sqrt(this.dx * this.dx + this.dy * this.dy);\n      this.angle = Math.atan2(this.dy, this.dx);\n      this.speedMagnitude = Math.random() * 7 + 1; // é€Ÿåº¦å¤§å°ç‚º 1 åˆ° 8\n\n      // å¦‚æœåœ“å¿ƒåˆ°æ–¹æ¡†ä¸­å¿ƒçš„è·é›¢å°æ–¼ä¸€å®šå€¼ï¼Œå‰‡åŠ ä¸Šä¸€å€‹å€ç‡ä»¥ç¢ºä¿å®ƒé é›¢æ–¹æ¡†\n      if (this.distanceToCenter < 150) this.speedMagnitude *= 1.5;\n      this.speed = {\n        x: Math.cos(this.angle) * this.speedMagnitude,\n        y: Math.sin(this.angle) * this.speedMagnitude\n      };\n    }\n  }, {\n    key: \"drawMode1\",\n    value: function drawMode1() {\n      this.ctx.beginPath();\n      this.ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);\n      this.ctx.fillStyle = 'yellow';\n      this.ctx.fill();\n    }\n  }, {\n    key: \"updateMode1\",\n    value: function updateMode1() {\n      if (this.radius === 0) this.random();\n      // console.log(`${this.mode}`)\n      // ç§»å‹•æ”»æ“Šç‰©ä»¶\n      this.x += this.speed.x;\n      this.y += this.speed.y;\n\n      // æª¢æŸ¥æ˜¯å¦è¶…å‡ºç•«é¢ç¯„åœï¼Œè‹¥æ˜¯å‰‡é‡æ–°è¨­å®šä½ç½®\n      if (this.x - this.radius > this.canvas.width || this.x + this.radius < 0 || this.y - this.radius > this.canvas.height || this.y + this.radius < 0) {\n        this.random();\n      }\n      return {\n        x: this.x,\n        y: this.y,\n        radius: this.radius\n      };\n    }\n  }, {\n    key: \"randomMode2\",\n    value: function randomMode2() {\n      // console.log(\"randomMode2\");\n      this.width = 50;\n      this.fx = Math.random() * (this.canvas.width - 600) / 2;\n      // é‚„è¦èª¿æ•´ï¼Œè®“xä¸æœƒæ“ åœ¨ä¸€èµ·ï¼Œå¾—çµ¦ç©å®¶æ´»è‘—çš„å¯èƒ½\n      this.x = Math.random() * (this.canvas.width - 600) / 2 + (this.canvas.width + 600) / 2;\n      this.height = Math.random() * 50 + 200;\n      do {\n        this.y = Math.random() * this.canvas.height;\n      } while (this.y > (this.canvas.height + 300) / 2 || this.y + this.height < (this.canvas.height - 300) / 2); // é‡è¤‡çš„æ¢ä»¶\n    }\n  }, {\n    key: \"drawMode2\",\n    value: function drawMode2() {\n      // console.log(\"drawMode2\");\n      this.ctx.beginPath();\n      this.ctx.fillStyle = 'yellow';\n      this.ctx.fillRect(this.x, this.y, this.width, this.height);\n    }\n  }, {\n    key: \"updateMode2\",\n    value: function updateMode2() {\n      // console.log(\"updateMode2\");\n      this.speed = 2;\n      this.x -= this.speed;\n\n      // æª¢æŸ¥æ˜¯å¦è¶…å‡ºç•«é¢ç¯„åœï¼Œè‹¥æ˜¯å‰‡é‡æ–°è¨­å®šä½ç½®\n      if (this.x + this.width < this.fx) {\n        this.random();\n      }\n      return {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height\n      };\n    }\n  }]);\n}();\n\n\n//# sourceURL=webpack:///./src/modeSwitch.js?");

/***/ }),

/***/ "./src/square.js":
/*!***********************!*\
  !*** ./src/square.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Square)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar Square = /*#__PURE__*/function () {\n  function Square(canvas, ctx, mode) {\n    _classCallCheck(this, Square);\n    this.canvas = canvas;\n    this.ctx = ctx;\n    this.mode = mode;\n    this.rectWidth = this.canvas.width; // ç‚ºäº†è®“æ„›å¿ƒå¯ä»¥æ»¿å±è·‘\n    this.rectHeight = this.canvas.height;\n    this.animationDuration = 1000; // å‹•ç•«æŒçºŒæ™‚é–“ï¼ˆæ¯«ç§’ï¼‰\n    this.animationStartTime = null;\n    this.mode = 'mode0';\n  }\n  return _createClass(Square, [{\n    key: \"draw\",\n    value: function draw() {\n      // åˆ‡æ›æ¡†æ¡†å‹•ç•«\n      if (this.animationStartTime !== null) {\n        var timestamp = performance.now();\n        var progress = (timestamp - this.animationStartTime) / this.animationDuration;\n        if (progress < 1) {\n          this.rectWidth = this.startWidth + (this.targetWidth - this.startWidth) * progress;\n          this.rectHeight = this.startHeight + (this.targetHeight - this.startHeight) * progress;\n        } else {\n          // console.log(\"timestamp\", timestamp);\n          this.rectWidth = this.targetWidth;\n          this.rectHeight = this.targetHeight;\n          this.animationStartTime = null; // å‹•ç•«å®Œæˆ\n          // console.log(\"finish!\");\n        }\n      }\n\n      // ç•«æ¡†æ¡†\n      this.ctx.beginPath();\n      this.ctx.strokeStyle = 'white';\n      this.ctx.lineWidth = 5;\n      this.ctx.strokeRect((this.canvas.width - this.rectWidth) / 2, (this.canvas.height - this.rectHeight) / 2, this.rectWidth, this.rectHeight);\n      this.ctx.font = '30px Cubic_11';\n      this.ctx.fillStyle = 'white';\n      this.ctx.fillText(\"Don't Touch those WHITE Stuff....\", this.canvas.width / 2, (this.canvas.height + 300) / 2 + 50);\n    }\n  }, {\n    key: \"checkMode\",\n    value: function checkMode(mode, animation) {\n      this.tmp = this.mode;\n      this.mode = mode;\n      this.startWidth = this.rectWidth;\n      this.startHeight = this.rectHeight;\n      if (this.mode === 'mode1') {\n        this.rectWidth = 300;\n        this.rectHeight = 300;\n      } else if (this.mode === 'mode2') {\n        this.rectWidth = 600;\n        this.rectHeight = 300;\n      }\n      this.targetWidth = this.rectWidth;\n      this.targetHeight = this.rectHeight;\n      if (animation && this.tmp !== this.mode) {\n        this.animationStartTime = performance.now(); // é–‹å§‹å‹•ç•«\n        // console.log(this.tmp, this.mode);\n        // console.log(\"start!\");\n        // console.log(\"animationStartTime\", this.animationStartTime);\n      }\n      if (this.mode === 'mode0') {\n        this.animationStartTime = null;\n        this.rectWidth = this.canvas.width;\n        this.rectHeight = this.canvas.height;\n      }\n    }\n  }]);\n}();\n\n\n//# sourceURL=webpack:///./src/square.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;